function createElem(e){var r=document.createElement(e);return r}function logAverageFrame(e){for(var r=e.length,a=0,n=r-1;n>r-11;n--)a+=e[n].duration;console.log("Average scripting time to generate last 10 frames: "+a/10+"ms")}function onScroll(){latestKnownScrollY=window.scrollY,requestTick()}function requestTick(){ticking||requestAnimationFrame(update),ticking=!0}function update(){ticking=!1,frame++,window.performance.mark("mark_start_frame");for(var e=document.querySelectorAll(".mover"),r=e.length,a=0;r>a;a++){var n=Math.sin(latestKnownScrollY/1250+a%5);e[a].style.transform="translateX("+100*n+"px)"}if(window.performance.mark("mark_end_frame"),window.performance.measure("measure_frame_duration","mark_start_frame","mark_end_frame"),frame%10===0){var t=window.performance.getEntriesByName("measure_frame_duration");logAverageFrame(t)}}var workers=new Worker("js/workers.js");workers.onmessage=function(e){var r=createElem("h4");r.innerHTML=e.data.title;var a=createElem("ul");a.innerHTML=e.data.pizza;var n=document.getElementById("randomPizzas");n.appendChild(pizzaElementGenerator(r,a))};var pizzaElementGenerator=function(e,r){var a,n,t,i,a=createElem("div");return n=createElem("div"),t=createElem("img"),i=createElem("div"),a.classList.add("randomPizzaContainer"),a.style.width="33.33%",a.style.height="325px",a.id="pizza"+r,n.classList.add("col-md-6"),t.src="https://s3-us-west-2.amazonaws.com/vaneprojects/Project4Udacity/pizza3.png",t.classList.add("img-responsive"),n.appendChild(t),a.appendChild(n),i.classList.add("col-md-6"),i.appendChild(e),i.appendChild(r),a.appendChild(i),a},resizePizzas=function(e){function r(e){switch(e){case"1":return a=25,document.querySelector("#pizzaSize").innerHTML="Small",void console.log(document.querySelector("#pizzaSize").innerHTML);case"2":return a=33,void(document.querySelector("#pizzaSize").innerHTML="Medium");case"3":return a=50,void(document.querySelector("#pizzaSize").innerHTML="Large");default:console.log("bug in changeSliderLabel")}}var a,n=document.querySelectorAll(".randomPizzaContainer");window.performance.mark("mark_start_resize"),r(e);for(var t=0;100>t;t++)n[t].style.width=a+"%";window.performance.mark("mark_end_resize"),window.performance.measure("measure_pizza_resize","mark_start_resize","mark_end_resize");var i=window.performance.getEntriesByName("measure_pizza_resize");console.log("Time to resize pizzas: "+i[i.length-1].duration+"ms")};window.performance.mark("mark_start_generating"),window.performance.mark("mark_end_generating"),window.performance.measure("measure_pizza_generation","mark_start_generating","mark_end_generating");var timeToGenerate=window.performance.getEntriesByName("measure_pizza_generation");console.log("Time to generate pizzas on load: "+timeToGenerate[0].duration+"ms");for(var frame=0,cols=8,s=256,leftPosition=[100,356,612,868,1124,1380,1636,1892],i=0;40>i;i++){var elem=createElem("img");elem.className="mover",elem.src="https://s3-us-west-2.amazonaws.com/vaneprojects/Project4Udacity/pizzaBackground.png",elem.style.height="100px",elem.style.width="73.333px",elem.style.left=leftPosition[i%cols]+"px",elem.style.transform="translateX(0px)",elem.style.top=Math.floor(i/cols)*s+"px",document.querySelector("#movingPizzas1").appendChild(elem)}var latestKnownScrollY=0,ticking=!1;window.addEventListener("scroll",onScroll);