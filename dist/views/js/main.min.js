function logAverageFrame(e){for(var r=e.length,a=0,n=r-1;n>r-11;n--)a+=e[n].duration;console.log("Average scripting time to generate last 10 frames: "+a/10+"ms")}function createElem(e){var r=document.createElement(e);return r}function onScroll(){latestKnownScrollY=window.scrollY,requestTick()}function requestTick(){ticking||requestAnimationFrame(update),ticking=!0}function update(){ticking=!1,frame++,window.performance.mark("mark_start_frame");for(var e=document.querySelectorAll(".mover"),r=e.length,a=0;r>a;a++){var n=Math.sin(latestKnownScrollY/1250+a%5);e[a].style.transform="translateX("+100*n+"px)"}if(window.performance.mark("mark_end_frame"),window.performance.measure("measure_frame_duration","mark_start_frame","mark_end_frame"),frame%10===0){var t=window.performance.getEntriesByName("measure_frame_duration");logAverageFrame(t)}}var workers=new Worker("js/workers.js");workers.onmessage=function(e){var r=(e.data,createElem("h4"));r.innerHTML=e.data.title;var a=createElem("ul");a.innerHTML=e.data.pizza;var n=document.getElementById("randomPizzas");n.appendChild(pizzaElementGenerator(r,a))};var pizzaElementGenerator=function(e,r){var a,n,t,o;return a=createElem("div"),n=createElem("div"),t=createElem("img"),o=createElem("div"),a.classList.add("randomPizzaContainer"),a.style.width="33.33%",a.style.height="325px",a.id="pizza"+e,n.classList.add("col-md-6"),t.src="https://s3-us-west-2.amazonaws.com/vaneprojects/Project4Udacity/pizza3.png",t.classList.add("img-responsive"),n.appendChild(t),a.appendChild(n),o.classList.add("col-md-6"),o.appendChild(e),o.appendChild(r),a.appendChild(o),a},resizePizzas=function(e){function r(e){switch(e){case"1":return void(document.querySelector("#pizzaSize").innerHTML="Small");case"2":return void(document.querySelector("#pizzaSize").innerHTML="Medium");case"3":return void(document.querySelector("#pizzaSize").innerHTML="Large");default:console.log("bug in changeSliderLabel")}}function a(e){switch(e){case"1":n=25;break;case"2":n=33;break;case"3":n=50;break;default:console.log("bug in sizeSwitcher")}for(var r=document.querySelectorAll(".randomPizzaContainer"),a=0;100>a;a++)r[a].style.width=n+"%"}window.performance.mark("mark_start_resize"),r(e);var n;a(e),window.performance.mark("mark_end_resize"),window.performance.measure("measure_pizza_resize","mark_start_resize","mark_end_resize");var t=window.performance.getEntriesByName("measure_pizza_resize");console.log("Time to resize pizzas: "+t[t.length-1].duration+"ms")};window.performance.mark("mark_start_generating"),window.performance.mark("mark_end_generating"),window.performance.measure("measure_pizza_generation","mark_start_generating","mark_end_generating");var timeToGenerate=window.performance.getEntriesByName("measure_pizza_generation");console.log("Time to generate pizzas on load: "+timeToGenerate[0].duration+"ms");var frame=0,cols=8,s=256,leftPosition=[100,356,612,868,1124,1380,1636,1892];window.onload=function(){for(var e=0;40>e;e++){var r=createElem("img");r.className="mover",r.src="https://s3-us-west-2.amazonaws.com/vaneprojects/Project4Udacity/pizzaBackground.png",r.style.height="100px",r.style.width="73.333px",r.style.left=leftPosition[e%cols]+"px",r.style.transform="translateX(0px)",r.style.top=Math.floor(e/cols)*s+"px",document.querySelector("#movingPizzas1").appendChild(r)}};var latestKnownScrollY=0,ticking=!1;window.addEventListener("scroll",onScroll),update();